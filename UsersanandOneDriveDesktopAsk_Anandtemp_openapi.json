{"openapi":"3.1.0","info":{"title":"StudyPulse","description":"\n    **StudyPulse** - AI-Powered Exam Preparation Platform\n    \n    StudyPulse helps students prepare for competitive exams through:\n    - üìö Structured study sessions with timers\n    - üìù Smart mock tests with previous year + AI questions  \n    - ‚≠ê Gamified learning with star rewards\n    - üìä Detailed progress analytics\n    \n    ## Authentication\n    Most endpoints require authentication via JWT Bearer token.\n    Use `/api/v1/auth/login` to get a token.\n    ","version":"v1"},"paths":{"/api/v1/auth/guest":{"post":{"tags":["üîê Authentication"],"summary":"Guest Login","description":"Auto-login as guest user. Creates a guest user if it doesn't exist.\n\nThis allows the mobile app to work without requiring registration.\nReturns a valid JWT token for API access.","operationId":"guest_login_api_v1_auth_guest_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["üîê Authentication"],"summary":"Register","description":"Register a new user.\n\n- **email**: Valid email address\n- **name**: User's display name\n- **password**: Strong password\n- **phone**: Optional phone number\n- **target_exam_id**: Optional target exam ID","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["üîê Authentication"],"summary":"Login","description":"Login and get access token.\n\nUse email as username in the form.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["üîê Authentication"],"summary":"Get Me","description":"Get current user profile.","operationId":"get_me_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["üîê Authentication"],"summary":"Update Me","description":"Update current user profile.","operationId":"update_me_api_v1_auth_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/logout":{"post":{"tags":["üîê Authentication"],"summary":"Logout","description":"Logout current user.\n\nNote: Since we use JWT, actual logout is handled client-side\nby deleting the token. This endpoint is for future features.","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/exams/":{"get":{"tags":["üìö Exams"],"summary":"List Exams","description":"List all available exams.\n\n- **category**: Filter by exam category (e.g., \"Government\", \"Engineering\")\n- **search**: Search exams by name","operationId":"list_exams_api_v1_exams__get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name","title":"Search"},"description":"Search by name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExamBrief"},"title":"Response List Exams Api V1 Exams  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exams/{exam_id}":{"get":{"tags":["üìö Exams"],"summary":"Get Exam","description":"Get exam details with subjects.","operationId":"get_exam_api_v1_exams__exam_id__get","parameters":[{"name":"exam_id","in":"path","required":true,"schema":{"type":"integer","title":"Exam Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exams/{exam_id}/subjects":{"get":{"tags":["üìö Exams"],"summary":"List Subjects","description":"List all subjects for an exam.","operationId":"list_subjects_api_v1_exams__exam_id__subjects_get","parameters":[{"name":"exam_id","in":"path","required":true,"schema":{"type":"integer","title":"Exam Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectBrief"},"title":"Response List Subjects Api V1 Exams  Exam Id  Subjects Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exams/{exam_id}/subjects/{subject_id}":{"get":{"tags":["üìö Exams"],"summary":"Get Subject","description":"Get subject details with topics.","operationId":"get_subject_api_v1_exams__exam_id__subjects__subject_id__get","parameters":[{"name":"exam_id","in":"path","required":true,"schema":{"type":"integer","title":"Exam Id"}},{"name":"subject_id","in":"path","required":true,"schema":{"type":"integer","title":"Subject Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exams/{exam_id}/subjects/{subject_id}/topics":{"get":{"tags":["üìö Exams"],"summary":"List Topics","description":"List all topics for a subject.","operationId":"list_topics_api_v1_exams__exam_id__subjects__subject_id__topics_get","parameters":[{"name":"exam_id","in":"path","required":true,"schema":{"type":"integer","title":"Exam Id"}},{"name":"subject_id","in":"path","required":true,"schema":{"type":"integer","title":"Subject Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TopicResponse"},"title":"Response List Topics Api V1 Exams  Exam Id  Subjects  Subject Id  Topics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exams/topics/{topic_id}":{"get":{"tags":["üìö Exams"],"summary":"Get Topic","description":"Get topic details.","operationId":"get_topic_api_v1_exams_topics__topic_id__get","parameters":[{"name":"topic_id","in":"path","required":true,"schema":{"type":"integer","title":"Topic Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/study/sessions":{"get":{"tags":["‚è±Ô∏è Study Sessions"],"summary":"List Study Sessions","description":"List study sessions for the current user (most recent first).","operationId":"list_study_sessions_api_v1_study_sessions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["‚è±Ô∏è Study Sessions"],"summary":"Start Study Session","description":"Start a study session and trigger background question generation.\n\nQuestions are generated immediately in background and cached.","operationId":"start_study_session_api_v1_study_sessions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudySessionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/study/sessions/{session_id}/question-status":{"get":{"tags":["‚è±Ô∏è Study Sessions"],"summary":"Get Question Generation Status","description":"Poll pre-generation status during study session.\n\nReturns the current status of background question generation:\n- pending: Generation not started or status unknown\n- started: Generation in progress\n- completed: Questions ready in cache\n- failed: Generation encountered an error\n\nAlso returns question count, metadata, and estimated time if available.","operationId":"get_question_generation_status_api_v1_study_sessions__session_id__question_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/study/sessions/{session_id}/complete":{"post":{"tags":["‚è±Ô∏è Study Sessions"],"summary":"Complete Study Session","description":"Complete session and return cached questions instantly.","operationId":"complete_study_session_api_v1_study_sessions__session_id__complete_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/study/sessions/{session_id}":{"get":{"tags":["‚è±Ô∏è Study Sessions"],"summary":"Get Study Session","description":"Get a specific study session.","operationId":"get_study_session_api_v1_study_sessions__session_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mock-test/start":{"post":{"tags":["üìù Mock Tests"],"summary":"Start Mock Test","description":"Start a mock test ‚Äî generates questions via RAG pipeline.\n\nIf questions were pre-generated during the study session,\nthey are served from Redis cache in milliseconds.\nOtherwise, the full pipeline runs on-demand.","operationId":"start_mock_test_api_v1_mock_test_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MockTestCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/mock-test/{test_id}/submit":{"post":{"tags":["üìù Mock Tests"],"summary":"Submit Mock Test","description":"Submit answers, grade, and return full results.","operationId":"submit_mock_test_api_v1_mock_test__test_id__submit_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"integer","title":"Test Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAnswers"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mock-test/{test_id}/results":{"get":{"tags":["üìù Mock Tests"],"summary":"Get Test Results","description":"Retrieve graded results for a completed test.","operationId":"get_test_results_api_v1_mock_test__test_id__results_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"integer","title":"Test Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mock-test/{test_id}/rate":{"post":{"tags":["üìù Mock Tests"],"summary":"Rate Question","description":"Rate an AI-generated question's quality (1-10 scale).","operationId":"rate_question_api_v1_mock_test__test_id__rate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"integer","title":"Test Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateQuestionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mock-test/history/all":{"get":{"tags":["üìù Mock Tests"],"summary":"Get Test History","description":"All completed tests for the current user.","operationId":"get_test_history_api_v1_mock_test_history_all_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/dashboard/":{"get":{"tags":["üìä Dashboard"],"summary":"Get Dashboard","description":"Get dashboard data for current user with greeting and stats.","operationId":"get_dashboard_api_v1_dashboard__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/dashboard/stats/weekly":{"get":{"tags":["üìä Dashboard"],"summary":"Get Weekly Stats","description":"Get weekly statistics for charts.","operationId":"get_weekly_stats_api_v1_dashboard_stats_weekly_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/leaderboard/":{"get":{"tags":["üèÜ Leaderboard"],"summary":"Get Leaderboard","description":"Get global leaderboard - ranked by stars (primary) and avg score (secondary).","operationId":"get_leaderboard_api_v1_leaderboard__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"exam_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Exam Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/leaderboard/exams":{"get":{"tags":["üèÜ Leaderboard"],"summary":"Get Exam Leaderboards","description":"Get list of exams with leaderboards.","operationId":"get_exam_leaderboards_api_v1_leaderboard_exams_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/profile/stats":{"get":{"tags":["üë§ Profile"],"summary":"Get Profile Stats","description":"Get comprehensive profile statistics.\n\nReturns nested structure:\n- basic_info: username, email, display_name, avatar, join date\n- activity_stats: total sessions, total tests, stars, average_score\n- study_streak: consecutive days with activity\n- subject_proficiency: Map of subject_name -> {average_score, test_count}\n- performance_goal: overall accuracy target vs current\n- recent_performance: last 10 completed tests with scores and dates\n- best_performance: highest scoring test ever\n- improvement_trend: comparison of last 5 tests vs previous 5 tests","operationId":"get_profile_stats_api_v1_profile_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/profile/update":{"put":{"tags":["üë§ Profile"],"summary":"Update Profile","description":"Update user profile (display name and avatar).","operationId":"update_profile_api_v1_profile_update_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/profile/first-login-complete":{"post":{"tags":["üë§ Profile"],"summary":"Complete First Login","description":"Mark first login as complete (hide welcome screen next time).","operationId":"complete_first_login_api_v1_profile_first_login_complete_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/questions/import/single":{"post":{"tags":["üì• Question Import","Questions"],"summary":"Import Single Question","description":"Import a single question manually.\n\n**Use cases:**\n- Manually add a question from a book\n- Import a question from a PDF by copy-paste\n- Add a practice question\n\n**Example request:**\n```json\n{\n  \"topic_id\": 15,\n  \"question_text\": \"Which of the following is the primary function of RBI?\",\n  \"options\": {\n    \"A\": \"Printing currency notes\",\n    \"B\": \"Regulating commercial banks\",\n    \"C\": \"Managing forex reserves\",\n    \"D\": \"All of the above\"\n  },\n  \"correct_answer\": \"D\",\n  \"explanation\": \"RBI performs all these functions as India's central bank.\",\n  \"source\": \"MANUAL\",\n  \"year\": 2023,\n  \"difficulty\": \"medium\"\n}\n```","operationId":"import_single_question_api_v1_questions_import_single_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionImport"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/import/bulk":{"post":{"tags":["üì• Question Import","Questions"],"summary":"Import Bulk Questions","description":"Import multiple questions at once.\n\n**Use cases:**\n- Batch import from a structured source\n- Programmatic question addition\n- Testing with multiple questions\n\n**Example request:**\n```json\n{\n  \"questions\": [\n    {\n      \"topic_id\": 15,\n      \"question_text\": \"Question 1 text...\",\n      \"options\": {\"A\": \"...\", \"B\": \"...\", \"C\": \"...\", \"D\": \"...\"},\n      \"correct_answer\": \"A\",\n      \"difficulty\": \"easy\"\n    },\n    {\n      \"topic_id\": 15,\n      \"question_text\": \"Question 2 text...\",\n      \"options\": {\"A\": \"...\", \"B\": \"...\", \"C\": \"...\", \"D\": \"...\"},\n      \"correct_answer\": \"B\",\n      \"difficulty\": \"medium\"\n    }\n  ]\n}\n```","operationId":"import_bulk_questions_api_v1_questions_import_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkQuestionImport"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/import/csv":{"post":{"tags":["üì• Question Import","Questions"],"summary":"Import Csv Questions","description":"Import questions from CSV data.\n\n**CSV Format:**\n```\nquestion_text, option_a, option_b, option_c, option_d, correct_answer, explanation, difficulty, year\n```\n\n**Example CSV:**\n```csv\nquestion_text,option_a,option_b,option_c,option_d,correct_answer,explanation,difficulty,year\n\"What is the capital of India?\",\"Mumbai\",\"Delhi\",\"Kolkata\",\"Chennai\",\"B\",\"Delhi is the capital.\",\"easy\",2023\n\"Who is the current RBI Governor?\",\"Shaktikanta Das\",\"Urjit Patel\",\"Raghuram Rajan\",\"D Subbarao\",\"A\",\"As of 2024.\",\"medium\",2024\n```\n\n**Request body:**\n```json\n{\n  \"topic_id\": 15,\n  \"source\": \"CSV\",\n  \"csv_data\": \"question_text,option_a,option_b,option_c,option_d,correct_answer,explanation,difficulty,year\\n...\",\n  \"skip_header\": true\n}\n```","operationId":"import_csv_questions_api_v1_questions_import_csv_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CSVImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/import/stats/{topic_id}":{"get":{"tags":["üì• Question Import","Questions"],"summary":"Get Import Stats","description":"Get import statistics for a topic.\n\nReturns counts by source type: MANUAL, CSV, PDF, WEB, PREVIOUS, AI.","operationId":"get_import_stats_api_v1_questions_import_stats__topic_id__get","parameters":[{"name":"topic_id","in":"path","required":true,"schema":{"type":"integer","title":"Topic Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/import/pdf":{"post":{"tags":["üì• Question Import","Questions"],"summary":"Import Pdf Questions","description":"Extract and import questions from a PDF textbook using AI.\n\n**How it works:**\n1. Extracts text from uploaded PDF\n2. Uses Ollama AI to parse text into MCQ format\n3. Auto-imports questions to database\n\n**Use cases:**\n- Bulk import from PDF textbooks\n- Extract questions from UPSC/NEET study materials\n- Quickly populate question bank\n\n**Requirements:**\n- PDF must be text-based (not scanned images)\n- Ollama must be running locally\n- Topic must exist in database\n\n**Example request (multipart/form-data):**\n```\nfile: [PDF file]\ntopic_id: 15\ntarget_count: 20\ndifficulty: medium\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"imported_count\": 18,\n  \"failed_count\": 2,\n  \"errors\": [\"Q7: Duplicate options\"],\n  \"question_ids\": [101, 102, 103, ...],\n  \"metadata\": {\n    \"pdf_filename\": \"economics.pdf\",\n    \"pdf_pages\": 45,\n    \"extraction_time_sec\": 3.2,\n    \"parsing_time_sec\": 12.5\n  }\n}\n```","operationId":"import_pdf_questions_api_v1_questions_import_pdf_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_pdf_questions_api_v1_questions_import_pdf_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/import/web-scrape":{"post":{"tags":["üì• Question Import","Questions"],"summary":"Import From Web Scraping","description":"Scrape questions from UPSC/NEET websites and import to database.\n\n**How it works:**\n1. Scrapes specified URLs for MCQ questions\n2. Parses question text, options, answers, explanations\n3. Auto-imports questions to database\n\n**Supported websites:**\n- UPSC: ClearIAS.com, InsightsOnIndia, Vision IAS\n- NEET: Marrow.in, PrepLadder, Medscape\n\n**Request body:**\n```json\n{\n  \"urls\": [\n    \"https://www.clearias.com/upsc-prelims-questions/\",\n    \"https://www.insightsonindia.com/daily-quiz/\"\n  ],\n  \"topic_id\": 1,\n  \"max_questions_per_url\": 20,\n  \"exam_type\": \"upsc\"\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"imported_count\": 35,\n  \"failed_count\": 5,\n  \"errors\": [...],\n  \"question_ids\": [...],\n  \"metadata\": {\n    \"urls_scraped\": 2,\n    \"total_time_sec\": 15.3\n  }\n}\n```\n\n**Note:** Web scraping depends on website structure. If a website changes\nits HTML, scraping may fail. Use PDF import as a more reliable alternative.","operationId":"import_from_web_scraping_api_v1_questions_import_web_scrape_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebScrapingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/questions/health":{"get":{"tags":["üì• Question Import","Questions"],"summary":"Health Check","description":"Simple health check for question import service.","operationId":"health_check_api_v1_questions_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/cache/stats":{"get":{"tags":["üîß Cache Management","cache"],"summary":"Get Cache Stats","description":"Get cache performance metrics and statistics.\n\nReturns:\n- Hit/miss rates for all cache layers\n- Cache sizes\n- Error counts\n- Overall hit rate percentage","operationId":"get_cache_stats_api_v1_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/cache/health":{"get":{"tags":["üîß Cache Management","cache"],"summary":"Cache Health Check","description":"Check Redis cache health status.\n\nReturns:\n- Status: healthy, degraded, or unhealthy\n- Backend type: redis or memory\n- Latency and connection info (if Redis)","operationId":"cache_health_check_api_v1_cache_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/cache/clear/profile/{user_id}":{"post":{"tags":["üîß Cache Management","cache"],"summary":"Clear Profile Cache","description":"Clear cached profile stats for a specific user.","operationId":"clear_profile_cache_api_v1_cache_clear_profile__user_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cache/clear/questions/{topic_id}":{"post":{"tags":["üîß Cache Management","cache"],"summary":"Clear Question Pool","description":"Clear cached question pool for a specific topic.","operationId":"clear_question_pool_api_v1_cache_clear_questions__topic_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"topic_id","in":"path","required":true,"schema":{"type":"integer","title":"Topic Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cache/rag/metrics":{"get":{"tags":["üîß Cache Management","cache"],"summary":"Get Rag Metrics","description":"Get RAG pipeline performance metrics.\n\nReturns:\n- Orchestrator metrics (tests generated, cache performance)\n- Generator metrics (questions generated, success rate)\n- Overall AI generation statistics","operationId":"get_rag_metrics_api_v1_cache_rag_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"tags":["üè† Root"],"summary":"Root","description":"API root endpoint with welcome message.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["üè† Root"],"summary":"Health Check","description":"Health check endpoint for monitoring.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnswerItem":{"properties":{"question_id":{"type":"integer","title":"Question Id"},"answer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Answer"},"time_spent_seconds":{"type":"integer","title":"Time Spent Seconds","default":0}},"type":"object","required":["question_id"],"title":"AnswerItem","description":"Single answer in a submission."},"Body_import_pdf_questions_api_v1_questions_import_pdf_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"PDF file to extract questions from"},"topic_id":{"type":"integer","title":"Topic Id","description":"Topic ID to assign questions to"},"target_count":{"type":"integer","title":"Target Count","description":"Number of questions to generate","default":10},"difficulty":{"type":"string","title":"Difficulty","description":"Target difficulty: easy/medium/hard","default":"medium"}},"type":"object","required":["file","topic_id"],"title":"Body_import_pdf_questions_api_v1_questions_import_pdf_post"},"Body_login_api_v1_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_login_post"},"BulkQuestionImport":{"properties":{"questions":{"items":{"$ref":"#/components/schemas/QuestionImport"},"type":"array","minItems":1,"title":"Questions","description":"List of questions to import"}},"type":"object","required":["questions"],"title":"BulkQuestionImport","description":"Schema for bulk import of questions."},"CSVImportRequest":{"properties":{"topic_id":{"type":"integer","title":"Topic Id","description":"Default topic ID for all questions in CSV"},"source":{"type":"string","title":"Source","description":"Source identifier","default":"CSV"},"csv_data":{"type":"string","title":"Csv Data","description":"CSV data as string"},"skip_header":{"type":"boolean","title":"Skip Header","description":"Whether to skip first row as header","default":true}},"type":"object","required":["topic_id","csv_data"],"title":"CSVImportRequest","description":"Schema for CSV import request."},"DashboardResponse":{"properties":{"greeting":{"type":"string","title":"Greeting"},"user_name":{"type":"string","title":"User Name"},"stats":{"additionalProperties":true,"type":"object","title":"Stats"},"performance_goal":{"additionalProperties":true,"type":"object","title":"Performance Goal"},"recent_activity":{"items":{"$ref":"#/components/schemas/RecentActivity"},"type":"array","title":"Recent Activity"},"continue_topic":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Continue Topic"}},"type":"object","required":["greeting","user_name","stats","performance_goal","recent_activity"],"title":"DashboardResponse","description":"Complete dashboard data."},"ExamBrief":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"subject_count":{"type":"integer","title":"Subject Count","default":0}},"type":"object","required":["id","name"],"title":"ExamBrief","description":"Brief exam info for listing."},"ExamResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"conducting_body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conducting Body"},"exam_duration_mins":{"type":"integer","title":"Exam Duration Mins","default":180},"total_questions":{"type":"integer","title":"Total Questions","default":100},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"subjects":{"items":{"$ref":"#/components/schemas/SubjectBrief"},"type":"array","title":"Subjects","default":[]}},"type":"object","required":["id","name"],"title":"ExamResponse","description":"Schema for exam response data."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImportResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"imported_count":{"type":"integer","title":"Imported Count"},"failed_count":{"type":"integer","title":"Failed Count"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors"},"question_ids":{"items":{"type":"integer"},"type":"array","title":"Question Ids","description":"IDs of successfully imported questions"}},"type":"object","required":["success","imported_count","failed_count"],"title":"ImportResponse","description":"Response schema for import operations."},"MockTestCreate":{"properties":{"topic_id":{"type":"integer","title":"Topic Id"},"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id"},"question_count":{"type":"integer","title":"Question Count","default":10},"time_limit_seconds":{"type":"integer","title":"Time Limit Seconds","default":600},"previous_year_ratio":{"type":"number","title":"Previous Year Ratio","default":0.3}},"type":"object","required":["topic_id"],"title":"MockTestCreate","description":"Schema for starting a mock test."},"ProfileUpdate":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"ProfileUpdate","description":"Profile update request."},"QuestionImport":{"properties":{"topic_id":{"type":"integer","title":"Topic Id","description":"ID of the topic this question belongs to"},"question_text":{"type":"string","minLength":10,"title":"Question Text","description":"The question text"},"options":{"additionalProperties":{"type":"string"},"type":"object","title":"Options","description":"Options as {A: text, B: text, C: text, D: text}"},"correct_answer":{"type":"string","pattern":"^[A-D]$","title":"Correct Answer","description":"Correct answer (A, B, C, or D)"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation","description":"Explanation of the answer"},"source":{"type":"string","title":"Source","description":"Source of the question (MANUAL, PREVIOUS, WEB, PDF)","default":"MANUAL"},"year":{"anyOf":[{"type":"integer","maximum":2030.0,"minimum":1950.0},{"type":"null"}],"title":"Year","description":"Year of exam (for previous year questions)"},"difficulty":{"type":"string","title":"Difficulty","description":"Difficulty level","default":"medium"}},"type":"object","required":["topic_id","question_text","options","correct_answer"],"title":"QuestionImport","description":"Schema for importing a single question."},"RateQuestionRequest":{"properties":{"question_id":{"type":"integer","title":"Question Id"},"rating":{"type":"integer","title":"Rating"},"feedback":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback"}},"type":"object","required":["question_id","rating"],"title":"RateQuestionRequest","description":"Schema for rating an AI-generated question."},"RecentActivity":{"properties":{"type":{"type":"string","title":"Type"},"topic_name":{"type":"string","title":"Topic Name"},"subject_name":{"type":"string","title":"Subject Name"},"score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Score"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage"},"star_earned":{"type":"boolean","title":"Star Earned","default":false},"duration_mins":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Mins"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["type","topic_name","subject_name","timestamp"],"title":"RecentActivity","description":"Single activity item."},"StudySessionCreate":{"properties":{"topic_id":{"type":"integer","title":"Topic Id"},"duration_mins":{"type":"integer","title":"Duration Mins"}},"type":"object","required":["topic_id","duration_mins"],"title":"StudySessionCreate","description":"Schema for creating a study session."},"SubjectBrief":{"properties":{"id":{"type":"integer","title":"Id"},"exam_id":{"type":"integer","title":"Exam Id"},"name":{"type":"string","title":"Name"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"topic_count":{"type":"integer","title":"Topic Count","default":0}},"type":"object","required":["id","exam_id","name"],"title":"SubjectBrief","description":"Brief subject info without topics."},"SubjectResponse":{"properties":{"id":{"type":"integer","title":"Id"},"exam_id":{"type":"integer","title":"Exam Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"syllabus_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Syllabus Url"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"topics":{"items":{"$ref":"#/components/schemas/TopicResponse"},"type":"array","title":"Topics","default":[]}},"type":"object","required":["id","exam_id","name"],"title":"SubjectResponse","description":"Schema for subject response data."},"SubmitAnswers":{"properties":{"responses":{"items":{"$ref":"#/components/schemas/AnswerItem"},"type":"array","title":"Responses"},"total_time_seconds":{"type":"integer","title":"Total Time Seconds"}},"type":"object","required":["responses","total_time_seconds"],"title":"SubmitAnswers","description":"Schema for submitting mock test answers."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"$ref":"#/components/schemas/UserResponse"}},"type":"object","required":["access_token","user"],"title":"TokenResponse","description":"Schema for JWT token response."},"TopicResponse":{"properties":{"id":{"type":"integer","title":"Id"},"subject_id":{"type":"integer","title":"Subject Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"difficulty_level":{"type":"string","title":"Difficulty Level","default":"medium"},"estimated_study_mins":{"type":"integer","title":"Estimated Study Mins","default":60},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"question_count":{"type":"integer","title":"Question Count","default":0}},"type":"object","required":["id","subject_id","name"],"title":"TopicResponse","description":"Schema for topic response data."},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"name":{"type":"string","title":"Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"password":{"type":"string","title":"Password"},"target_exam_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Exam Id"}},"type":"object","required":["email","name","password"],"title":"UserCreate","description":"Schema for user registration."},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"name":{"type":"string","title":"Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"id":{"type":"integer","title":"Id"},"profile_pic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Pic"},"target_exam_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Exam Id"},"total_stars":{"type":"integer","title":"Total Stars","default":0},"is_active":{"type":"boolean","title":"Is Active","default":true},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["email","name","id","created_at"],"title":"UserResponse","description":"Schema for user response data."},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"profile_pic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Pic"},"target_exam_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Exam Id"}},"type":"object","title":"UserUpdate","description":"Schema for updating user profile."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebScrapingRequest":{"properties":{"urls":{"items":{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},"type":"array","title":"Urls"},"topic_id":{"type":"integer","title":"Topic Id"},"max_questions_per_url":{"type":"integer","title":"Max Questions Per Url","default":20},"exam_type":{"type":"string","title":"Exam Type","default":"upsc"}},"type":"object","required":["urls","topic_id"],"title":"WebScrapingRequest","description":"Request model for web scraping."}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}}}}}